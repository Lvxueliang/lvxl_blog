---
slug: 浏览器的渲染原理
title: 浏览器的渲染原理
authors: [Lvxl]
tags: [浏览器的渲染原理]
---

### 浏览器是如何渲染页面的
当浏览器的网络线程收到HTML文档后,会产生一个渲染任务,并将其传递给渲染主线程的消息队列.

在事件循环的机制作用下, 渲染主线程去取出消息队列中的渲染任务, 开启渲染流程

整个渲染流程的阶段分为: HTML解析, 样式计算, 布局, 分层, 绘制, 分块, 光栅化, 画

1. pares Html 生成 dom树 css object model
    - 渲染主线程解析到link位置, 此时外部的css文件还没有下载解析好,主线程不会等待,继续解析HTML,因为下载和解析css工作是在预解析线程中完成的,所以不会阻塞html的解析
    - 渲染主线程遇到js事会暂停一切行为, 等待下载执行完后才能继续执行, 因为js代码可以随意修改html里面的内容

2. 样式计算
3. 分层
    - 分层的好处在于,将来某一个层改变后,会对改层进行后续处理, 从而提升效率
    - 滚动条, 堆叠上下文, transform, opacity等样式都会或多或少影响分层结果, 也可以通过will-channge属性更大程度影响分层结果
4. 绘制
    - 分层绘制

### 什么是 reflow (回流)

### 什么是 replant (重绘)